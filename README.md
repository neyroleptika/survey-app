<p>Для создания простого веб-приложения для анкетирования, мы будем использовать следующие технологии:</p>
<ul>
<li>HTML/CSS для фронтенда</li>
<li>JavaScript (Node.js и Express) для серверной логики</li>
<li>MongoDB для базы данных</li>
<li>Passport.js для аутентификации</li>
<li>Chart.js для отображения графиков и диаграмм</li>
</ul>
<h3>1. Установка и настройка проекта</h3>
<p>Создайте новый проект и установите необходимые зависимости:</p>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-bash" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#dcdcaa">mkdir</span><span> survey-app
</span><span></span><span class="token" style="color:#4ec9b0">cd</span><span> survey-app
</span><span></span><span class="token" style="color:#dcdcaa">npm</span><span> init -y
</span><span></span><span class="token" style="color:#dcdcaa">npm</span><span> </span><span class="token" style="color:#dcdcaa">install</span><span> express mongoose body-parser passport passport-local express-session chart.js</span></code></div></div></pre>
<h3>2. Создание структуры проекта</h3>
<p>Создайте следующую структуру проекта:</p>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-text" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>survey-app/
</span>├── public/
<!-- -->│   ├── css/
<!-- -->│   │   └── styles.css
<!-- -->│   └── js/
<!-- -->│       └── charts.js
<!-- -->├── views/
<!-- -->│   ├── index.ejs
<!-- -->│   ├── survey.ejs
<!-- -->│   ├── results.ejs
<!-- -->│   ├── admin.ejs
<!-- -->│   └── login.ejs
<!-- -->├── models/
<!-- -->│   └── User.js
<!-- -->│   └── Survey.js
<!-- -->├── routes/
<!-- -->│   └── index.js
<!-- -->├── app.js
<!-- -->└── package.json</code></div></div></pre>
<h3>3. Настройка сервера (app.js)</h3>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-javascript" style="color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">const</span><span> express </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;express&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> mongoose </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;mongoose&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> bodyParser </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;body-parser&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> passport </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;passport&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#4ec9b0">LocalStrategy</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;passport-local&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Strategy</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> session </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;express-session&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#4ec9b0">User</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;./models/User&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#4ec9b0">Survey</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;./models/Survey&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> app </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">express</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>mongoose</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">connect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;mongodb://localhost:27017/survey-app&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">useNewUrlParser</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token literal-property" style="color:#9cdcfe">useUnifiedTopology</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span>bodyParser</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">urlencoded</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">extended</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span>express</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">static</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;public&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">set</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;view engine&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&#x27;ejs&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#dcdcaa">session</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">secret</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;secret&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">resave</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">saveUninitialized</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span>passport</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">initialize</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span>passport</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">session</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>passport</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569CD6">new</span><span> </span><span class="token" style="color:#4ec9b0">LocalStrategy</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#4ec9b0">User</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">authenticate</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>passport</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">serializeUser</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#4ec9b0">User</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">serializeUser</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>passport</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">deserializeUser</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#4ec9b0">User</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">deserializeUser</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569CD6">const</span><span> indexRoutes </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;./routes/index&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> indexRoutes</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">listen</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">3000</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;Server is running on port 3000&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></div></pre>
<h3>4. Модели данных (models/User.js и models/Survey.js)</h3>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-javascript" style="color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// models/User.js</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> mongoose </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;mongoose&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> passportLocalMongoose </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;passport-local-mongoose&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#4ec9b0">UserSchema</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">new</span><span> </span><span class="token" style="color:#4ec9b0">mongoose</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#4ec9b0">Schema</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">username</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">String</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">password</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">String</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">surveys</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">:</span><span> mongoose</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Schema</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Types</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">ObjectId</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token literal-property" style="color:#9cdcfe">ref</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Survey&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">]</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">UserSchema</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">plugin</span><span class="token" style="color:#d4d4d4">(</span><span>passportLocalMongoose</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>module</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">exports</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> mongoose</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">model</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;User&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#4ec9b0">UserSchema</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></div></pre>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-javascript" style="color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// models/Survey.js</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> mongoose </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;mongoose&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#4ec9b0">SurveySchema</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">new</span><span> </span><span class="token" style="color:#4ec9b0">mongoose</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#4ec9b0">Schema</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">String</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">age</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">Number</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">gender</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">String</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">hobbies</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token known-class-name" style="color:#4ec9b0">String</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">country</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">String</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">user</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">:</span><span> mongoose</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Schema</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Types</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">ObjectId</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token literal-property" style="color:#9cdcfe">ref</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;User&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>module</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">exports</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> mongoose</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">model</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;Survey&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#4ec9b0">SurveySchema</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></div></pre>
<h3>5. Маршруты (routes/index.js)</h3>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-javascript" style="color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">const</span><span> express </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;express&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> router </span><span class="token" style="color:#d4d4d4">=</span><span> express</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">Router</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> passport </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;passport&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#4ec9b0">User</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;../models/User&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#4ec9b0">Survey</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;../models/Survey&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">render</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;index&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/survey&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> isLoggedIn</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">render</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;survey&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">post</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/survey&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> isLoggedIn</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#569CD6">async</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#569CD6">const</span><span> survey </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">new</span><span> </span><span class="token" style="color:#4ec9b0">Survey</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">body</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">name</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">age</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">body</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">age</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">gender</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">body</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">gender</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">hobbies</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">body</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">hobbies</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">country</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">body</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">country</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">user</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_id</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">await</span><span> survey</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">save</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">surveys</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">push</span><span class="token" style="color:#d4d4d4">(</span><span>survey</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">await</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">save</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">redirect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/results&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/results&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> isLoggedIn</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#569CD6">async</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#569CD6">const</span><span> surveys </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#c586c0">await</span><span> </span><span class="token" style="color:#4ec9b0">Survey</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">find</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">user</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_id</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">render</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;results&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> surveys </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/admin&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> isLoggedIn</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">render</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;admin&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/login&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">render</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;login&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">post</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/login&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> passport</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">authenticate</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;local&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">successRedirect</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;/survey&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">failureRedirect</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;/login&#x27;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>router</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/logout&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    req</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">logout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">redirect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569CD6">function</span><span> </span><span class="token" style="color:#dcdcaa">isLoggedIn</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">req</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> res</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> next</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">isAuthenticated</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#dcdcaa">next</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">redirect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/login&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span>module</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">exports</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> router</span><span class="token" style="color:#d4d4d4">;</span></code></div></div></pre>
<h3>6. Шаблоны (views/)</h3>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-html" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">&lt;!-- views/index.ejs --&gt;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">&lt;!</span><span class="token" style="color:#569CD6">DOCTYPE</span><span class="token"> </span><span class="token" style="color:#9cdcfe">html</span><span class="token" style="color:#d4d4d4">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">lang</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">en</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">charset</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">UTF-8</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">viewport</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">content</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">width=device-width, initial-scale=1.0</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>Survey App</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">link</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">rel</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">stylesheet</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">href</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/css/styles.css</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>Welcome to the Survey App</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">a</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">href</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/login</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Login</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">a</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#808080">&gt;</span></code></div></div></pre>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-html" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">&lt;!-- views/survey.ejs --&gt;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">&lt;!</span><span class="token" style="color:#569CD6">DOCTYPE</span><span class="token"> </span><span class="token" style="color:#9cdcfe">html</span><span class="token" style="color:#d4d4d4">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">lang</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">en</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">charset</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">UTF-8</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">viewport</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">content</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">width=device-width, initial-scale=1.0</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>Survey Form</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">link</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">rel</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">stylesheet</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">href</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/css/styles.css</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>Survey Form</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">form</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">action</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/survey</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">method</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">POST</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">name</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Name:</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">text</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">name</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">name</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">age</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Age:</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">number</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">age</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">age</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">gender</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Gender:</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">radio</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">male</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">gender</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">male</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">male</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Male</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">radio</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">female</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">gender</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">female</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">female</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Female</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">hobbies</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Hobbies:</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">checkbox</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">reading</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">hobbies</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">reading</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">reading</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Reading</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">checkbox</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">sports</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">hobbies</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">sports</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">sports</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Sports</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">country</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Country:</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">select</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">country</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">country</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">option</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">usa</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>USA</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">option</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">option</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">canada</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Canada</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">option</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">option</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">uk</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>UK</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">option</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">select</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">submit</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">Submit</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">form</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#808080">&gt;</span></code></div></div></pre>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-html" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">&lt;!-- views/results.ejs --&gt;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">&lt;!</span><span class="token" style="color:#569CD6">DOCTYPE</span><span class="token"> </span><span class="token" style="color:#9cdcfe">html</span><span class="token" style="color:#d4d4d4">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">lang</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">en</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">charset</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">UTF-8</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">viewport</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">content</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">width=device-width, initial-scale=1.0</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>Survey Results</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">link</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">rel</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">stylesheet</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">href</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/css/styles.css</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">script</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">src</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">https://cdn.jsdelivr.net/npm/chart.js</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">script</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>Survey Results</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">canvas</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">surveyChart</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">canvas</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">script</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">src</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/js/charts.js</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">script</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#808080">&gt;</span></code></div></div></pre>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-html" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">&lt;!-- views/admin.ejs --&gt;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">&lt;!</span><span class="token" style="color:#569CD6">DOCTYPE</span><span class="token"> </span><span class="token" style="color:#9cdcfe">html</span><span class="token" style="color:#d4d4d4">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">lang</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">en</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">charset</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">UTF-8</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">viewport</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">content</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">width=device-width, initial-scale=1.0</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>Admin Panel</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">link</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">rel</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">stylesheet</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">href</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/css/styles.css</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>Admin Panel</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">&lt;!-- Add admin functionality here --&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#808080">&gt;</span></code></div></div></pre>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-html" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">&lt;!-- views/login.ejs --&gt;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">&lt;!</span><span class="token" style="color:#569CD6">DOCTYPE</span><span class="token"> </span><span class="token" style="color:#9cdcfe">html</span><span class="token" style="color:#d4d4d4">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">lang</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">en</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">charset</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">UTF-8</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">meta</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">viewport</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">content</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">width=device-width, initial-scale=1.0</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>Login</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">title</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">link</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">rel</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">stylesheet</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">href</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/css/styles.css</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">head</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>Login</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">h1</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">form</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">action</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">/login</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">method</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">POST</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">username</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Username:</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">text</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">username</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">username</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">for</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">password</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>Password:</span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">label</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">password</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">password</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">name</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">password</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">br</span><span class="token" style="color:#808080">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#808080">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">submit</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#ce9178">Login</span><span class="token" style="color:#ce9178">&quot;</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">form</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">body</span><span class="token" style="color:#808080">&gt;</span><span>
</span><span></span><span class="token" style="color:#808080">&lt;/</span><span class="token" style="color:#569cd6">html</span><span class="token" style="color:#808080">&gt;</span></code></div></div></pre>
<h3>7. Графики и диаграммы (public/js/charts.js)</h3>
<pre><div class="relative rounded-md"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50 hover:text-accent-foreground absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><div node="[object Object]" class="rounded-md" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-javascript" style="color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token dom" style="color:#9cdcfe">document</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">addEventListener</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;DOMContentLoaded&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#569CD6">const</span><span> ctx </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token dom" style="color:#9cdcfe">document</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">getElementById</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;surveyChart&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">getContext</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;2d&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#569CD6">const</span><span> surveyChart </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">new</span><span> </span><span class="token" style="color:#4ec9b0">Chart</span><span class="token" style="color:#d4d4d4">(</span><span>ctx</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">type</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;bar&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">data</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>            </span><span class="token literal-property" style="color:#9cdcfe">labels</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&#x27;Reading&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&#x27;Sports&#x27;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#9cdcfe">datasets</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>                </span><span class="token literal-property" style="color:#9cdcfe">label</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Hobbies&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>                </span><span class="token literal-property" style="color:#9cdcfe">data</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#b5cea8">2</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">3</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// Example data</span><span>
</span><span>                </span><span class="token literal-property" style="color:#9cdcfe">backgroundColor</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&#x27;rgba(75, 192, 192, 0.2)&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&#x27;rgba(153, 102, 255, 0.2)&#x27;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>                </span><span class="token literal-property" style="color:#9cdcfe">borderColor</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&#x27;rgba(75, 192, 192, 1)&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&#x27;rgba(153, 102, 255, 1)&#x27;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>                </span><span class="token literal-property" style="color:#9cdcfe">borderWidth</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">1</span><span>
</span><span>            </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">]</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#9cdcfe">options</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>            </span><span class="token literal-property" style="color:#9cdcfe">scales</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>                </span><span class="token literal-property" style="color:#9cdcfe">y</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>                    </span><span class="token literal-property" style="color:#9cdcfe">beginAtZero</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span>
</span><span>                </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>            </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></div></pre>
<h3>8. Анализ выполненной задачи</h3>
<ol>
<li><strong>Создание веб-страницы с формой</strong>: Разработана HTML-страница с формой, содержащей различные типы вопросов.</li>
<li><strong>Отправка ответов</strong>: Реализована возможность отправки ответов через форму с использованием POST-запроса.</li>
<li><strong>Сохранение ответов в базе данных</strong>: Настроена серверная логика для обработки и сохранения ответов в MongoDB.</li>
<li><strong>Анализ и отображение результатов</strong>: Использована библиотека Chart.js для отображения результатов анкетирования в виде графиков и диаграмм.</li>
<li><strong>Аутентификация пользователей</strong>: Реализована аутентификация пользователей с помощью Passport.js и сохранение результатов анкетирования в их личных профилях.</li>
<li><strong>Административный интерфейс</strong>: Создана страница для административного интерфейса, где можно будет добавить функциональность для создания и редактирования анкет.</li>
<li><strong>Структура проекта</strong>: Проект организован в виде модульной структуры с разделением на модели, маршруты и представления.</li>
</ol>
<h3>9. Рекомендации по устранению выявленных ошибок</h3>
<ol>
<li><strong>Валидация данных</strong>: Добавить валидацию данных на стороне клиента и сервера для предотвращения некорректного ввода.</li>
<li><strong>Обработка ошибок</strong>: Улучшить обработку ошибок на сервере и клиенте для более информативных сообщений об ошибках.</li>
<li><strong>Безопасность</strong>: Убедиться, что все данные, отправляемые на сервер, защищены от SQL-инъекций и других уязвимостей.</li>
<li><strong>Оптимизация</strong>: Оптимизировать запросы к базе данных для улучшения производительности.</li>
<li><strong>Тестирование</strong>: Провести тщательное тестирование всех функций приложения для выявления и исправления ошибок.</li>
<li><strong>Документация</strong>: Создать подробную документацию для проекта, включая описание API и использования.</li>
<li><strong>Расширяемость</strong>: Спроектировать приложение таким образом, чтобы его было легко расширять и добавлять новые функции.</li>
</ol>
